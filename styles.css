/* =========================
   Clean, organized stylesheet
   - Consolidated variables
   - Consistent spacing & typography
   - Simplified component rules
   - Modal + heavy-blur included
   ========================= */

:root{
  --bg: #f7f9fc;
  --surface: #fff;
  --muted: #6b7280;
  --text: #1a1f26;
  --primary: #1e6fd9;
  --primary-strong: #1554a4;
  --border: #d5dce8;
  --card-radius: 12px;
  --pill-radius: 999px;
  --shadow: 0 10px 30px rgba(0,0,0,0.08);
  --max-width: 1120px;
}

/* -------------------------
   Base
   ------------------------- */
*,
*::before,
*::after{box-sizing:border-box}

html,body{height:100%}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  color:var(--text);
  background:var(--bg);
  min-height:100vh;
  display:flex;
  flex-direction:column;
  line-height:1.45;
  -webkit-tap-highlight-color:transparent;
}

.container{
  max-width:var(--max-width);
  margin:0 auto;
  padding:0 1.25rem;
  width:100%;
}

/* -------------------------
   Typography utilities
   ------------------------- */
.h1{font-size:clamp(1.9rem,3vw,2.6rem);line-height:1.05;margin:0 0 .6rem}
.h2{font-size:1.25rem;margin:0 0 .5rem}
.lead{color:var(--muted);margin:0 0 1rem}

/* -------------------------
   Header / Nav
   ------------------------- */
.site-header{
  background:var(--surface);
  border-bottom:1px solid var(--border);
  position:sticky;top:0;z-index:30;
}
.header-inner{
  display:flex;align-items:center;justify-content:space-between;padding:.9rem 0;
}
.logo{font-weight:700;color:var(--primary-strong);text-decoration:none;font-size:1.15rem}
.navbar{display:flex;gap:1rem;align-items:center}
.navbar a{
  color:var(--muted);text-decoration:none;font-weight:600;padding:.25rem .15rem;border-bottom:2px solid transparent;
  transition:color .15s, border-color .15s;
}
.navbar a:hover,
.navbar a.active{color:var(--primary-strong);border-bottom-color:var(--primary-strong)}

/* -------------------------
   Buttons
   ------------------------- */
.btn{
  display:inline-flex;align-items:center;justify-content:center;
  border-radius:var(--pill-radius);padding:.55rem 1rem;font-weight:600;font-size:.95rem;
  cursor:pointer;border:1px solid transparent;text-decoration:none;background:transparent;color:var(--primary-strong);
}
.btn-primary{background:var(--primary);color:#fff;box-shadow:var(--shadow);border-color:transparent}
.btn-outline{background:transparent;border:1px solid rgba(21,84,164,.08);color:var(--primary-strong)}
.btn:focus{outline:2px solid rgba(30,111,217,.12);outline-offset:2px}

/* -------------------------
   Hero
   ------------------------- */
.hero{padding:3rem 0;background:radial-gradient(circle at 10% 10%, #eaf4ff 0, transparent 40%)}
.hero-inner{display:grid;grid-template-columns:1fr 0.9fr;gap:1.5rem;align-items:center}
.hero-copy p{max-width:40ch;color:var(--muted)}

/* -------------------------
   Cards / Grids
   ------------------------- */
.grid{display:grid;gap:1rem}
.highlights-grid{grid-template-columns:repeat(3,1fr)}
.feature-grid{grid-template-columns:repeat(4,1fr)}
.systems-grid{grid-template-columns:repeat(3,1fr)}

.card{
  background:var(--surface);border:1px solid var(--border);border-radius:var(--card-radius);
  padding:1rem;box-shadow:var(--shadow);transition:transform .15s, box-shadow .15s;
}
.card:hover{transform:translateY(-4px);box-shadow:0 18px 40px rgba(0,0,0,0.12);border-color:var(--primary)}

/* -------------------------
   Contact form
   ------------------------- */
form#contact-form{display:flex;flex-direction:column;gap:.6rem}
#contact-form input,#contact-form textarea{
  border:1px solid rgba(21,76,150,.08);padding:.6rem;border-radius:8px;background:#fff;font-size:.95rem
}

/* -------------------------
   3D model
   ------------------------- */
.model-card{background:#f9fafb;border-radius:10px;padding:.9rem;border:1px solid var(--border);cursor:pointer}
#biodigital-frame{width:100%;height:480px;border-radius:12px;border:1px solid var(--border);display:none}
#biodigital-frame.visible{display:block}

/* -------------------------
   Modal (Coming Soon)
   ------------------------- */
.cs-modal{
  position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:9999;
}
.cs-modal.open{display:flex}
.cs-backdrop{position:absolute;inset:0;background:rgba(18,24,33,.65);backdrop-filter:blur(2px)}
.cs-panel{
  position:relative;z-index:2;background:var(--surface);border-radius:12px;border:1px solid var(--border);
  padding:1.25rem;max-width:640px;width:calc(100% - 2rem);box-shadow:0 30px 60px rgba(10,20,40,.18)
}
.cs-header{margin-bottom:.5rem}
.cs-header h2{margin:0;font-size:1.25rem}
.cs-body p{margin:0;color:var(--muted)}
.cs-footer{display:flex;justify-content:flex-end;gap:.6rem;margin-top:1rem}

/* Prevent interaction with background while modal open */
body.modal-open{overflow:hidden;touch-action:none}

/* -------------------------
   Heavy blur (quizzes page)
   ------------------------- */
.heavy-blur main,
.heavy-blur .page-hero,
.heavy-blur .container{
  filter:blur(6px) saturate(.98);pointer-events:none;user-select:none;transition:filter .18s ease;
}
.heavy-blur::before{
  content:"";position:fixed;inset:0;background:rgba(0,0,0,.06);z-index:998
}

/* -------------------------
   Footer
   ------------------------- */
.site-footer{background:var(--surface);border-top:1px solid var(--border);padding:1rem 0;text-align:center;color:var(--muted);font-size:.9rem}

/* -------------------------
   Responsive
   ------------------------- */
@media (max-width:960px){
  .hero-inner{grid-template-columns:1fr}
  .highlights-grid,.feature-grid,.systems-grid{grid-template-columns:repeat(2,1fr)}
  .model-layout,.contact-layout{grid-template-columns:1fr}
}
@media (max-width:640px){
  .header-inner{flex-direction:column;align-items:flex-start;gap:.5rem}
  .navbar{flex-wrap:wrap;gap:.6rem}
  .highlights-grid,.feature-grid,.systems-grid{grid-template-columns:1fr}
  .cs-panel{padding:1rem}
}
